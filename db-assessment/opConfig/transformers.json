{
    "parameters":
            {
                "parameter1":
                            {
                                "id": 1,
                                "name": "DATAFRAME_RESHAPE",
                                "type": "VARIABLE",
                                "priority": 0,
                                "action": "CREATE",
                                "action_details": {"varname": "AWRHISTSYSMETRICHIST","value": "{\"FROM_TO_ROWS_TO_COLUMNS\": {\"Average Active Sessions\": \"AAS\", \"Background CPU Usage Per Sec\": \"BKGRCPU_PER_SEC\", \"CPU Usage Per Sec\": \"CPU_PER_SEC\", \"DB Block Changes Per Txn \": \"DBBLKSCHANGES_PER_SEC\", \"Executions Per Sec\": \"EXEC_PER_SEC\", \"Host CPU Usage Per Sec\": \"HOST_CPU_PER_SEC\", \"I/O Megabytes per Second\": \"IOMBPS\", \"I/O Requests per Second\": \"IOPS\", \"Logical Reads Per Txn\": \"LOG_READS_PER_TXN\", \"Logons Per Sec\": \"LOGONS_PER_SEC\",  \"Physical Reads Per Sec\": \"PHY_READS_PER_SEC\",  \"Physical Writes Per Sec\": \"PHY_WRITES_PER_SEC\", \"Redo Generated Per Sec\": \"REDO_GEN_PER_SEC\", \"SQL Service Response Time\": \"SQL_RT\", \"User Calls Per Sec\": \"USERCALLS_PER_SEC\", \"User Transaction Per Sec\": \"USER_TX_PER_SEC\"}, \"TARGET_COLUMN\": \"METRIC_NAME\", \"TARGET_STATS_COLUMNS\": [\"PERC90\",\"PERC95\"], \"INDEX_COLUMNS\": [\"PKEY\", \"CON_ID\", \"DBID\",\"INSTANCE_NUMBER\",\"HO\"], \"STORE\": \"BIGQUERY\"}", "store": "BIGQUERY", "datatype": "DICTIONARY"},
                                "status": "ENABLED",
                                "tags": ["DATAFRAMERESHAPE","AWRHISTSYSMETRICHIST"],
                                "expr1": "",
                                "iferror": "IGNORE",
                                "description": "This parameter indicates that CSV for AWRHISTSYSMETRICHIST tablename needs to have its dataframe reshaped."
                            },
                "parameter2":
                            {
                                "id": 2,
                                "name": "DATAFRAME_RESHAPE",
                                "type": "VARIABLE",
                                "priority": 0,
                                "action": "CREATE",
                                "action_details": {"varname": "AWRHISTOSSTAT","value": "{\"FROM_TO_ROWS_TO_COLUMNS\": {\"LOAD\": \"LOAD\", \"NUM_CPUS\": \"NUM_CPUS\", \"SYS_TIME\": \"SYS_TIME\", \"BUSY_TIME\": \"BUSY_TIME\", \"IDLE_TIME\": \"IDLE_TIME\", \"NICE_TIME\": \"NICE_TIME\", \"USER_TIME\": \"USER_TIME\", \"IOWAIT_TIME\": \"IOWAIT_TIME\", \"VM_IN_BYTES\": \"VM_IN_BYTES\", \"VM_OUT_BYTES\": \"VM_OUT_BYTES\", \"NUM_CPU_CORES\": \"NUM_CPU_CORES\", \"NUM_CPU_SOCKETS\": \"NUM_CPU_SOCKETS\", \"SWAP_FREE_BYTES\": \"SWAP_FREE_BYTES\", \"FREE_MEMORY_BYTES\": \"FREE_MEMORY_BYTES\", \"PHYSICAL_MEMORY_BYTES\": \"PHYSICAL_MEMORY_BYTES\", \"RSRC_MGR_CPU_WAIT_TIME\": \"RSRC_MGR_CPU_WAIT_TIME\", \"INACTIVE_MEMORY_BYTES\": \"INACTIVE_MEMORY_BYTES\"}, \"TARGET_COLUMN\": \"STAT_NAME\", \"TARGET_STATS_COLUMNS\": [\"PERC90\",\"PERC95\"], \"INDEX_COLUMNS\": [\"PKEY\", \"CON_ID\", \"DBID\",\"INSTANCE_NUMBER\",\"HH\"], \"STORE\": \"BIGQUERY\"}", "store": "BIGQUERY", "datatype": "DICTIONARY"},
                                "status": "ENABLED",
                                "tags": ["DATAFRAMERESHAPE","AWRHISTOSSTAT"],
                                "expr1": "",
                                "iferror": "IGNORE",
                                "description": "This parameter indicates that CSV for AWRHISTOSSTAT tablename needs to have its dataframe reshaped."
                            },
                "parameter3":
                            {
                                "id": 3,
                                "name": "DATAFRAME_RESHAPE_TABLELIST",
                                "type": "VARIABLE",
                                "priority": 0,
                                "action": "CREATE",
                                "action_details": {"varname": "LIST_TO_RESHAPE","value": "AWRHISTSYSMETRICHIST,AWRHISTOSSTAT", "datatype": "LIST"},
                                "status": "ENABLED",
                                "tags": ["DATAFRAMERESHAPE"],
                                "expr1": "",
                                "iferror": "IGNORE",
                                "description": "This rule adds a new column calculating the db cpu consumption using total cpu used / total cpu"
                            }
            },
    "rules":

            {
                "rule1":
                        {
                            "id": 1,
                            "name": "RULE 01",
                            "type": "NUMBER",
                            "priority": 100,
                            "action": "ADD_COLUMN",
                            "action_details": {"dataframe_name": "AWRHISTOSSTAT_RESHAPED","column_name": "DOUBLE_LOAD", "store": "BIGQUERY"},
                            "status": "ENABLED",
                            "tags": ["SIZING","EFFORT_ESTIMATE"],
                            "expr1": "dbAssessmentDataframes[\"AWRHISTOSSTAT_RESHAPED\"][\"LOAD_PERC95\"];+;dbAssessmentDataframes[\"AWRHISTOSSTAT_RESHAPED\"][\"LOAD_PERC95\"]",
                            "iferror": "None",
                            "description": "This rule adds a new column calculating the db cpu consumption using total cpu used / total cpu"
                        },
                "rule2":
                        {
                            "id": 2,
                            "name": "RULE 02",
                            "type": "FREESTYLE",
                            "priority": 200,
                            "action": "ADD_COLUMN",
                            "action_details": {"dataframe_name": "AWRHISTOSSTAT_RESHAPED","column_name": "HO", "store": "BIGQUERY"},
                            "status": "ENABLED",
                            "tags": ["MIGRATIONTECHIQUE","DATAGUARD"],
                            "expr1": "dbAssessmentDataframes[\"AWRHISTOSSTAT_RESHAPED\"][\"HH\"]",
                            "iferror": "None",
                            "description": "This rule adds a new column calculating the db cpu consumption using total cpu used / total cpu"
                        },
                "rule3":
                        {
                            "id": 3,
                            "name": "RULE 03",
                            "type": "FREESTYLE",
                            "priority": 300,
                            "action": "CREATENEWDATAFRAME",
                            "action_details": {"dataframe_name": "AWRHISTSYSSTAT_OSSTAT_MERGED", "store": "BIGQUERY"},
                            "status": "ENABLED",
                            "tags": ["MIGRATIONTECHIQUE","DATAGUARD"],
                            "expr1": "pd.merge(dbAssessmentDataframes[\"AWRHISTOSSTAT_RESHAPED\"], dbAssessmentDataframes[\"AWRHISTSYSMETRICHIST_RESHAPED\"], on=[\"PKEY\", \"CON_ID\", \"DBID\", \"INSTANCE_NUMBER\", \"HO\"])",
                            "iferror": "None",
                            "description": "This rule adds a new column calculating the db cpu consumption using total cpu used / total cpu"
                        },
                "rule4":
                        {
                            "id": 4,
                            "name": "RULE 04",
                            "type": "VARIABLE",
                            "priority": 0,
                            "action": "CREATE",
                            "action_details": {"varname": "MERGED_DFS"},
                            "status": "DISABLED",
                            "tags": ["PREPROCESS"],
                            "expr1": "",
                            "iferror": "IGNORE",
                            "description": "This rule adds a new column calculating the db cpu consumption using total cpu used / total cpu"
                        }
            }
}