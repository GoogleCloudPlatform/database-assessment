{
    "tableschemas":
            {
                "dbsummary": [["pkey","STRING"],["dbid","STRING"],["db_name","STRING"],["cdb","STRING"],["dbversion","STRING"],["dbfullversion","STRING"],["log_mode","STRING"],["force_logging","STRING"],["redo_gb_per_day","STRING"],["rac_dbinstaces","STRING"],["characterset","STRING"],["platform_name","STRING"],["startup_time","STRING"],["user_schemas","STRING"],["buffer_cache_mb","STRING"],["shared_pool_mb","STRING"],["total_pga_allocated_mb","STRING"],["db_size_allocated_gb","STRING"],["db_size_in_use_gb","STRING"],["db_long_size_gb","STRING"],["dg_database_role","STRING"],["dg_protection_mode","STRING"],["dg_protection_level","STRING"]],
                "dboverview": [["pkey","STRING"],["metric","STRING"],["value","STRING"]],
                "pdbsinfo": [["pkey","STRING"],["dbid","STRING"],["pdb_id","STRING"],["pdb_name","STRING"],["status","STRING"],["logging","STRING"]],
                "pdbsopenmode": [["pkey","STRING"],["con_id","STRING"],["name","STRING"],["open_mode","STRING"],["total_gb","STRING"]],
                "dbinstances": [["pkey","STRING"],["inst_id","STRING"],["instance_name","STRING"],["host_name","STRING"],["version","STRING"],["status","STRING"],["database_status","STRING"],["instance_role","STRING"]],
                "usedspacedetails": [["pkey","STRING"],["con_id","STRING"],["owner","STRING"],["segment_type","STRING"],["tablespace_name","STRING"],["flash_cache","STRING"],["inmemory","STRING"],["in_con_id","STRING"],["in_owner","STRING"],["in_segment_type","STRING"],["in_tablespace_name","STRING"],["in_flash_cache","STRING"],["in_inmemory","STRING"],["size_gb","STRING"]],
                "compressbytable": [["pkey","STRING"],["con_id","STRING"],["owner","STRING"],["number_tables","STRING"],["table_gb","STRING"],["number_parts","STRING"],["part_gb","STRING"],["number_subparts","STRING"],["subpart_gb","STRING"],["total_gb","STRING"]],
                "compressbytype": [["pkey","STRING"],["con_id","STRING"],["owner","STRING"],["basic","STRING"],["oltp","STRING"],["query_low","STRING"],["query_high","STRING"],["archive_low","STRING"],["archive_high","STRING"],["total_gb","STRING"]],
                "spacebyownersegtype": [["pkey","STRING"],["con_id","STRING"],["owner","STRING"],["segment_type","STRING"],["total_gb","STRING"]],
                "spacebytablespace": [["pkey","STRING"],["tablespace_name","STRING"],["extent_management","STRING"],["allocation","STRING"],["segment_space_manage","STRING"],["est_gain_mb","STRING"]],
                "freespaces": [["pkey","STRING"],["con_id","STRING"],["tablespace","STRING"],["status","STRING"],["total_gb","STRING"],["used_gb","STRING"],["free_gb","STRING"],["pct_used","STRING"],["graph","STRING"]],
                "dblinks": [["pkey","STRING"],["con_id","STRING"],["owner","STRING"],["db_link","STRING"],["username","STRING"],["host","STRING"],["created","STRING"]],
                "dbparameters": [["pkey","STRING"],["inst_id","STRING"],["con_id","STRING"],["name","STRING"],["value","STRING"],["default_value","STRING"],["isdefault_value","STRING"]],
                "dbfeatures": [["pkey","STRING"],["con_id","STRING"],["name","STRING"],["current_usage","STRING"],["detected_usage","STRING"],["total_samples","STRING"],["first_usage","STRING"],["last_usage","STRING"],["aux_count","STRING"]],
                "dbhwmarkstatistics": [["pkey","STRING"],["description","STRING"],["highwater","STRING"],["last_value","STRING"]],
                "dbobjects": [["pkey","STRING"],["con_id","STRING"],["owner","STRING"],["objecttype","STRING"],["editionable","STRING"],["coun","STRING"],["in_con_id","STRING"],["in_owner","STRING"],["in_object_type","STRING"],["in_editionable","STRING"]],
                "sourcecode": [["pkey","STRING"],["con_id","STRING"],["owner","STRING"],["type","STRING"],["nr_lines","STRING"],["qt_objs","STRING"],["nr_lines_w_utl","STRING"],["nr_lines_w_dbms","STRING"],["nr_lines_w_exec_im","STRING"],["nr_lines_w_dbms_sql","STRING"],["nr_lines_w_dbms_utl","STRING"],["nr_lines_total","STRING"]],
                "partsubparttypes": [["pkey","STRING"],["con_id","STRING"],["owner","STRING"],["partition","STRING"],["subpartition","STRING"],["coun","STRING"]],
                "indexestypes": [["pkey","STRING"],["con_id","STRING"],["owner","STRING"],["index_type","STRING"],["coun","STRING"]],
                "datatypes": [["pkey","STRING"],["con_id","STRING"],["owner","STRING"],["data_type","STRING"],["coun","STRING"]],
                "cpucoresusage": [["pkey","STRING"],["dt","STRING"],["cpu_count","STRING"],["cpu_core_count","STRING"],["cpu_socket_count","STRING"]],
                "tablesnopk": [["pkey","STRING"],["con_id","STRING"],["owner","STRING"],["pk","STRING"],["uk","STRING"],["ck","STRING"],["ri","STRING"],["vwck","STRING"],["vmro","STRING"],["hashexpr","STRING"],["suplog","STRING"],["num_tables","STRING"],["total_cons","STRING"]],
                "systemstats": [["pkey","STRING"],["stat_type","STRING"],["stat_name","STRING"],["value1","STRING"],["value2","STRING"]],
                "patchlevel": [["pkey","STRING"],["time","STRING"],["action","STRING"],["namespace","STRING"],["version","STRING"],["id","STRING"],["comments","STRING"]],
                "awrhistsysmetrichist": [["pkey","STRING"],["con_id","STRING"],["dbid","STRING"],["instance_number","STRING"],["hour","STRING"],["metric_name","STRING"],["metric_unit","STRING"],["avg_value","STRING"],["mode_value","STRING"],["median_value","STRING"],["min_value","STRING"],["max_value","STRING"],["sum_value","STRING"],["perc50","STRING"],["perc75","STRING"],["perc90","STRING"],["perc95","STRING"],["perc100","STRING"]],
                "awrhistsystimemodel": [["pkey","STRING"],["total_awr_secs","STRING"],["con_id","STRING"],["dbid","STRING"],["instance_number","STRING"],["hour","STRING"],["stat_name","STRING"],["hour_total_secs","STRING"],["avg_value","STRING"],["mode_value","STRING"],["median_value","STRING"],["perc50","STRING"],["perc75","STRING"],["perc90","STRING"],["perc95","STRING"],["perc100","STRING"],["min_value","STRING"],["max_value","STRING"],["sum_value","STRING"],["coun","STRING"]],
                "awrhistosstat": [["pkey","STRING"],["total_awr_secs","STRING"],["con_id","STRING"],["dbid","STRING"],["instance_number","STRING"],["hour","STRING"],["stat_name","STRING"],["hour_total_secs","STRING"],["avg_value","STRING"],["mode_value","STRING"],["median_value","STRING"],["perc50","STRING"],["perc75","STRING"],["perc90","STRING"],["perc95","STRING"],["perc100","STRING"],["min_value","STRING"],["max_value","STRING"],["sum_value","STRING"],["coun","STRING"]],
                "awrhistcmdtypes": [["pkey","STRING"],["hour","STRING"],["command_type","STRING"],["coun","STRING"],["avg_buffer_gets","STRING"],["avg_elapsed_time","STRING"],["avg_rows_processed","STRING"],["avg_executions","STRING"],["avg_cpu_time","STRING"],["avg_iowait","STRING"],["avg_clwait","STRING"],["avg_apwait","STRING"],["avg_ccwait","STRING"],["avg_plsexec_time","STRING"]],
                "alertlog2": [["pkey","STRING"],["message_time","STRING"],["message_text","STRING"],["host_id","STRING"],["con_id","STRING"],["component_id","STRING"],["message_type","STRING"],["message_level","STRING"],["message_id","STRING"],["message_group","STRING"],["container_name","STRING"]],
                "optimusconfig_bms_machinesizes": [["cores","STRING"],["ram_gb","STRING"],["machine_size","STRING"],["machine_size_short","STRING"],["processor","STRING"],["est_price","STRING"]],
                "optimusconfig_network_to_gcp": [["network_to_gcp","STRING"],["gbytes_per_sec","STRING"],["mbytes_per_sec","STRING"]]
            },

    "parameters":
            {
                "parameter1":
                            {
                                "id": 1,
                                "name": "DATAFRAME_RESHAPE",
                                "type": "VARIABLE",
                                "priority": 0,
                                "action": "CREATE",
                                "action_details": {"varname": "AWRHISTSYSMETRICHIST","value": "{\"FROM_TO_ROWS_TO_COLUMNS\": {\"Average Active Sessions\": \"AAS\", \"Background CPU Usage Per Sec\": \"BKGRCPU_PER_SEC\", \"CPU Usage Per Sec\": \"CPU_PER_SEC\", \"DB Block Changes Per Txn \": \"DBBLKSCHANGES_PER_SEC\", \"Executions Per Sec\": \"EXEC_PER_SEC\", \"Host CPU Usage Per Sec\": \"HOST_CPU_PER_SEC\", \"I/O Megabytes per Second\": \"IOMBPS\", \"I/O Requests per Second\": \"IOPS\", \"Logical Reads Per Txn\": \"LOG_READS_PER_TXN\", \"Logons Per Sec\": \"LOGONS_PER_SEC\",  \"Physical Reads Per Sec\": \"PHY_READS_PER_SEC\",  \"Physical Writes Per Sec\": \"PHY_WRITES_PER_SEC\", \"Redo Generated Per Sec\": \"REDO_GEN_PER_SEC\", \"SQL Service Response Time\": \"SQL_RT\", \"User Calls Per Sec\": \"USERCALLS_PER_SEC\", \"User Transaction Per Sec\": \"USER_TX_PER_SEC\"}, \"TARGET_COLUMN\": \"METRIC_NAME\", \"TARGET_STATS_COLUMNS\": [\"PERC90\",\"PERC95\"], \"INDEX_COLUMNS\": [\"PKEY\", \"CON_ID\", \"DBID\",\"INSTANCE_NUMBER\",\"HO\"], \"STORE\": \"BIGQUERY\", \"FILTERROWS\": \"YES\"}", "store": "BIGQUERY", "datatype": "DICTIONARY"},
                                "status": "ENABLED",
                                "tags": ["DATAFRAMERESHAPE","AWRHISTSYSMETRICHIST"],
                                "expr1": "",
                                "iferror": "IGNORE",
                                "description": "This parameter indicates that CSV for AWRHISTSYSMETRICHIST tablename needs to have its dataframe reshaped."
                            },
                "parameter2":
                            {
                                "id": 2,
                                "name": "DATAFRAME_RESHAPE",
                                "type": "VARIABLE",
                                "priority": 0,
                                "action": "CREATE",
                                "action_details": {"varname": "AWRHISTOSSTAT","value": "{\"FROM_TO_ROWS_TO_COLUMNS\": {\"LOAD\": \"LOAD\", \"NUM_CPUS\": \"NUM_CPUS\", \"SYS_TIME\": \"SYS_TIME\", \"BUSY_TIME\": \"BUSY_TIME\", \"IDLE_TIME\": \"IDLE_TIME\", \"NICE_TIME\": \"NICE_TIME\", \"USER_TIME\": \"USER_TIME\", \"IOWAIT_TIME\": \"IOWAIT_TIME\", \"VM_IN_BYTES\": \"VM_IN_BYTES\", \"VM_OUT_BYTES\": \"VM_OUT_BYTES\", \"NUM_CPU_CORES\": \"NUM_CPU_CORES\", \"NUM_CPU_SOCKETS\": \"NUM_CPU_SOCKETS\", \"SWAP_FREE_BYTES\": \"SWAP_FREE_BYTES\", \"FREE_MEMORY_BYTES\": \"FREE_MEMORY_BYTES\", \"PHYSICAL_MEMORY_BYTES\": \"PHYSICAL_MEMORY_BYTES\", \"RSRC_MGR_CPU_WAIT_TIME\": \"RSRC_MGR_CPU_WAIT_TIME\", \"INACTIVE_MEMORY_BYTES\": \"INACTIVE_MEMORY_BYTES\"}, \"TARGET_COLUMN\": \"STAT_NAME\", \"TARGET_STATS_COLUMNS\": [\"PERC90\",\"PERC95\"], \"INDEX_COLUMNS\": [\"PKEY\", \"CON_ID\", \"DBID\",\"INSTANCE_NUMBER\",\"HH\"], \"STORE\": \"BIGQUERY\", \"FILTERROWS\": \"YES\"}", "store": "BIGQUERY", "datatype": "DICTIONARY"},
                                "status": "ENABLED",
                                "tags": ["DATAFRAMERESHAPE","AWRHISTOSSTAT"],
                                "expr1": "",
                                "iferror": "IGNORE",
                                "description": "This parameter indicates that CSV for AWRHISTOSSTAT tablename needs to have its dataframe reshaped."
                            },
                "parameter3":
                            {
                                "id": 3,
                                "name": "DATAFRAME_RESHAPE_TABLELIST",
                                "type": "VARIABLE",
                                "priority": 0,
                                "action": "CREATE",
                                "action_details": {"varname": "LIST_TO_RESHAPE","value": "AWRHISTSYSMETRICHIST,AWRHISTOSSTAT", "datatype": "LIST"},
                                "status": "ENABLED",
                                "tags": ["DATAFRAMERESHAPE"],
                                "expr1": "",
                                "iferror": "IGNORE",
                                "description": "This rule adds a new column calculating the db cpu consumption using total cpu used / total cpu"
                            }
            },
    "rules":

            {
                "rule1":
                        {
                            "id": 1,
                            "name": "RULE 01",
                            "type": "NUMBER",
                            "priority": 100,
                            "action": "ADD_COLUMN",
                            "action_details": {"dataframe_name": "AWRHISTOSSTAT_RESHAPED","column_name": "DOUBLE_LOAD", "store": "BIGQUERY"},
                            "status": "ENABLED",
                            "tags": ["SIZING","EFFORT_ESTIMATE"],
                            "expr1": "dbAssessmentDataframes[\"AWRHISTOSSTAT_RESHAPED\"][\"LOAD_PERC95\"];+;dbAssessmentDataframes[\"AWRHISTOSSTAT_RESHAPED\"][\"LOAD_PERC95\"]",
                            "iferror": "None",
                            "description": "This rule adds a new column calculating the db cpu consumption using total cpu used / total cpu"
                        },
                "rule2":
                        {
                            "id": 2,
                            "name": "RULE 02",
                            "type": "FREESTYLE",
                            "priority": 200,
                            "action": "ADD_COLUMN",
                            "action_details": {"dataframe_name": "AWRHISTOSSTAT_RESHAPED","column_name": "HO", "store": "BIGQUERY"},
                            "status": "ENABLED",
                            "tags": ["MIGRATIONTECHIQUE","DATAGUARD"],
                            "expr1": "dbAssessmentDataframes[\"AWRHISTOSSTAT_RESHAPED\"][\"HH\"]",
                            "iferror": "None",
                            "description": "This rule adds a new column calculating the db cpu consumption using total cpu used / total cpu"
                        },
                "rule3":
                        {
                            "id": 3,
                            "name": "RULE 03",
                            "type": "FREESTYLE",
                            "priority": 300,
                            "action": "CREATENEWDATAFRAME",
                            "action_details": {"dataframe_name": "AWRHISTSYSSTAT_OSSTAT_MERGED", "store": "BIGQUERY"},
                            "status": "ENABLED",
                            "tags": ["MIGRATIONTECHIQUE","DATAGUARD"],
                            "expr1": "pd.merge(dbAssessmentDataframes[\"AWRHISTOSSTAT_RESHAPED\"], dbAssessmentDataframes[\"AWRHISTSYSMETRICHIST_RESHAPED\"], on=[\"PKEY\", \"CON_ID\", \"DBID\", \"INSTANCE_NUMBER\", \"HO\"])",
                            "iferror": "None",
                            "description": "This rule adds a new column calculating the db cpu consumption using total cpu used / total cpu"
                        },
                "rule4":
                        {
                            "id": 4,
                            "name": "RULE 04",
                            "type": "VARIABLE",
                            "priority": 0,
                            "action": "CREATE",
                            "action_details": {"varname": "MERGED_DFS"},
                            "status": "DISABLED",
                            "tags": ["PREPROCESS"],
                            "expr1": "",
                            "iferror": "IGNORE",
                            "description": "This rule adds a new column calculating the db cpu consumption using total cpu used / total cpu"
                        }
            }
}